{"version":3,"sources":["webpack://pouch/webpack/universalModuleDefinition","webpack://pouch/webpack/bootstrap","webpack://pouch/./node_modules/shortid/lib/alphabet.js","webpack://pouch/./node_modules/shortid/lib/encode.js","webpack://pouch/external \"mobx\"","webpack://pouch/./src/ModelStore.js","webpack://pouch/./node_modules/shortid/lib/util/cluster-worker-id-browser.js","webpack://pouch/./node_modules/shortid/lib/is-valid.js","webpack://pouch/./node_modules/shortid/lib/build.js","webpack://pouch/./node_modules/shortid/lib/decode.js","webpack://pouch/./node_modules/shortid/lib/random/random-byte-browser.js","webpack://pouch/./node_modules/shortid/lib/random/random-from-seed.js","webpack://pouch/./node_modules/shortid/lib/index.js","webpack://pouch/./node_modules/shortid/index.js","webpack://pouch/./src/Model.js","webpack://pouch/./src/index.js"],"names":["ModelStore","propertyName","Model","db","lists","changes","since","live","include_docs","on","__handleChanges","bind","mapFunc","filterOptions","stringOptions","JSON","stringify","queryResults","queries","local_query","results","__localQuery","rows","map","get","d","doc","_id","__sideLoad","service","query","then","mapFuncOrQueryResults","Object","keys","length","docId","docIndex","findIndex","t","settings","docObj","docModel","push","jsDoc","toJS","put","status","ok","_rev","rev","Error","decending","allDocs","forEach","__queryDocOnChange","sideLoadedDoc","deleted","__onDelete","__onChange","storeDoc","filter","updateFromDoc","storeDocIndex","splice","__queryDocOnDelete","queryMaps","mapObj","queryKeys","queryKey","rdoc","startsWith","__queryDocument","keysEmitted","key","emit","includes","docs","total_rows","offset","id","add","load","loadAll","__edit","Map","E","Proxy","obj","prop","undefined","set","val","generateId","editCount","clearE","Set","concat","Array","isArray","property","setE","save","default"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;ACnEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACjGA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClBA,gD;;;;;;;;;;;;;;;ACAA;;;;;;IAEqBA,U;AAGjB,wBAAYC,YAAZ,EAA0BC,KAA1B,EAAiCC,EAAjC,EAAqC;AAAA;;AAAA,aAFrCC,KAEqC,GAF7B,EAE6B;;AACjC,aAAKH,YAAL,GAAoBA,YAApB;AACA,aAAKC,KAAL,GAAaA,KAAb;AACA,aAAKC,EAAL,GAAUA,EAAV;AACA,oCAAiB,IAAjB,sBACKF,YADL,EACoB,EADpB;AAGA,aAAKE,E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","file":"mobx-pouchdb.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"mobx\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"mobx\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pouch\"] = factory(require(\"mobx\"));\n\telse\n\t\troot[\"pouch\"] = factory(root[\"mobx\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nmodule.exports = {\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n","'use strict';\n\nvar randomByte = require('./random/random-byte');\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = encode;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","import { action, extendObservable, decorate, runInAction } from 'mobx';\n \nexport default class ModelStore {\n    lists = [];\n\n    constructor(propertyName, Model, db) {\n        this.propertyName = propertyName;\n        this.Model = Model;\n        this.db = db;\n        extendObservable(this, {\n            [propertyName]: []\n        });\n        this.db.changes({\n            since: 'now',\n            live: true,\n            include_docs: true\n        }).on('change', this.__handleChanges.bind(this));\n    }\n\n    query(mapFunc, filterOptions) {\n        const stringOptions = JSON.stringify(filterOptions);\n        const queryResults = {\n            filterOptions,\n            mapFunc\n        };\n        extendObservable(queryResults, {\n            [this.propertyName]: [],\n            results: null\n        });\n\n        if (filterOptions.live) {\n            if(!!this.lists[mapFunc] && !!this.lists[mapFunc].queries[stringOptions]) {\n                return this.lists[mapFunc].queries[stringOptions];\n            }\n            if (!this.lists[mapFunc]) {\n                this.lists[mapFunc] = {\n                    mapFunc,\n                    queries: {}\n                };\n            }\n            this.lists[mapFunc].queries[stringOptions] = queryResults;\n        }\n        if (filterOptions.local_query) {\n            queryResults.results = this.__localQuery(mapFunc, filterOptions);\n            queryResults[this.propertyName] =  queryResults.results.rows.map(d => this.get(d.doc._id) || this.__sideLoad(d.doc))\n        }\n        else {\n            this.service.db.query(mapFunc, filterOptions).then((results) => {\n                queryResults.results = results;\n                queryResults[this.propertyName] =  queryResults.results.rows.map(d => this.get(d.doc._id) || this.__sideLoad(d.doc))\n            });\n        }\n        return queryResults;\n    }\n\n    removeQuery(mapFuncOrQueryResults, filterOptions) {\n        let mapFunc = mapFuncOrQueryResults;\n        if (!filterOptions) {\n            mapFunc = mapFuncOrQueryResults.mapFunc;\n            filterOptions = mapFuncOrQueryResults.filterOptions;\n        }\n        const stringOptions = JSON.stringify(filterOptions);\n        if(!!this.lists[mapFunc] && !!this.lists[mapFunc].queries[stringOptions]) {\n            if (Object.keys(this.lists[mapFunc].queries).length === 1) {\n                delete this.lists[mapFunc];\n            } else {\n                delete this.lists[mapFunc].queries[stringOptions];\n            }\n        }\n    }\n\n    get(docId) {\n        const docIndex = this[this.propertyName].findIndex((t) => {\n            return t._id === docId\n        });\n        if (docIndex > -1) {\n            return this[this.propertyName][docIndex];\n        }\n        return null;\n    }\n \n    load(docId, settings = {}) {\n        let doc = this.get(docId);\n        if (doc) {\n            return doc;\n        }\n        return this.db.get(docId, settings).then((docObj) => {\n            const docModel = new this.Model(docObj);\n            this[this.propertyName].push(docModel);\n            return docModel;\n        });\n    }\n\n    add(doc) {\n        const jsDoc = (doc.toJS && doc.toJS()) || doc;\n        return this.db.put(jsDoc).then((status) => {\n            if (status.ok) {\n                jsDoc._rev = status.rev;\n            }\n            else {\n                throw new Error(status);\n            }\n            return this.__sideLoad(jsDoc);\n        });\n    }\n\n    loadAll(settings = { include_docs: true, decending: true }) {\n        return this.db.allDocs(settings).then((allDocs) => {\n            runInAction(() =>this[this.propertyName] = allDocs.rows.map(doc => new this.Model(doc.doc)));\n            allDocs.rows.forEach(doc => this.__queryDocOnChange(doc));\n            return this[this.propertyName];\n        });\n    }\n\n    __sideLoad(doc) {\n        const sideLoadedDoc = new this.Model(doc);\n        this[this.propertyName].push(sideLoadedDoc);\n        return sideLoadedDoc;\n    }\n \n    __handleChanges(rev) {\n        if (rev.deleted) {\n            this.__onDelete(rev.doc, rev);\n        }\n        else if (rev.changes) {\n            this.__onChange(rev.doc, rev);\n        }\n    }\n\n    __onChange(doc, rev) {\n        const storeDoc = this[this.propertyName].filter(storeDoc => storeDoc._id === doc._id)[0];\n        if (storeDoc) {\n            storeDoc.updateFromDoc(doc);\n        }\n        this.__queryDocOnChange(doc);\n\n    }\n\n    __onDelete(doc) {\n        const storeDocIndex = this[this.propertyName].findIndex(storeDoc => storeDoc._id === doc._id);\n        if (storeDocIndex > -1) {\n            this[this.propertyName].splice(storeDocIndex, 1);\n        }\n        this.__queryDocOnDelete(doc, true);\n    }\n\n    __queryDocOnDelete(doc) {\n        const queryMaps = Object.keys(this.lists);\n        queryMaps.forEach((map) => {\n            const mapObj = this.lists[map];\n            const queryKeys = Object.keys(mapObj.queries);\n            queryKeys.forEach((queryKey) => {\n                const query = mapObj.queries[queryKey];\n                const docIndex = query[this.propertyName].findIndex(rdoc => rdoc._id === doc._id);\n                if (docIndex > -1) {\n                    query[this.propertyName].splice(docIndex, 1);\n                }\n            });\n        });\n    }\n\n    __queryDocOnChange(doc) {\n        const queryMaps = Object.keys(this.lists);\n        queryMaps.forEach((map) => {\n            if (!map.startsWith('function')) {\n                throw new Error('Updating stored queries not yet supported');\n            }\n            const mapObj = this.lists[map];\n            const queryKeys = Object.keys(mapObj.queries);\n            queryKeys.forEach((queryKey) => {\n                const query = mapObj.queries[queryKey];\n                const docIndex = query[this.propertyName].findIndex(rdoc => rdoc._id === doc._id);\n                if (this.__queryDocument(doc, mapObj.mapFunc, query.filterOptions)) {\n                    if (docIndex === -1) {\n                        query[this.propertyName].push(this.get(doc._id) || this.__sideLoad(doc));\n                    }\n                }\n                else {\n                    if (docIndex > -1) {\n                        query[this.propertyName].splice(docIndex, 1);\n                    }\n                }\n            });\n\n        });\n    }\n\n    __queryDocument(doc, mapFunc, filterOptions) {\n        let keysEmitted = [];\n        let key = filterOptions.key;\n        const emit = key => keysEmitted.push(key);\n        mapFunc(doc, emit);\n        if (!keysEmitted.length) {\n            return false;\n        }\n        return keysEmitted.includes(key);\n    }\n    \n    __localQuery(mapFunc, filterOptions) {\n        const docs = this[this.propertyName].filter(doc => this.__queryDocument(doc, mapFunc, filterOptions));\n        return {\n            total_rows: this[this.propertyName].length,\n            offset: 0,\n            rows: docs.map(doc => ({ id: doc._id, key: filterOptions.key, doc }))\n        };\n    }\n}\n\ndecorate(ModelStore, {\n    add: action,\n    load: action,\n    loadAll: action,\n    __sideLoad: action,\n    __onChange: action,\n    __onDelete: action,\n    __queryDocOnChange: action,\n    __queryDocOnDelete: action\n});","'use strict';\n\nmodule.exports = 0;\n","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nmodule.exports = isShortId;\n","'use strict';\n\nvar encode = require('./encode');\nvar alphabet = require('./alphabet');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction build(clusterWorkerId) {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode(alphabet.lookup, version);\n    str = str + encode(alphabet.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode(alphabet.lookup, counter);\n    }\n    str = str + encode(alphabet.lookup, seconds);\n\n    return str;\n}\n\nmodule.exports = build;\n","'use strict';\nvar alphabet = require('./alphabet');\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nmodule.exports = decode;\n","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nmodule.exports = randomByte;\n","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n","'use strict';\n\nvar alphabet = require('./alphabet');\nvar encode = require('./encode');\nvar decode = require('./decode');\nvar build = require('./build');\nvar isValid = require('./is-valid');\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n  return build(clusterWorkerId);\n}\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode;\nmodule.exports.isValid = isValid;\n","'use strict';\nmodule.exports = require('./lib/index');\n","import { observable, action, decorate, runInAction } from 'mobx';\nimport shortid from 'shortid';\n\nexport default class Model {\n    _id;\n    __edit = new Map();\n    E = new Proxy({}, {\n        get: (obj, prop) => {\n            if (this.__edit.get(prop) !== undefined) {\n                return this.__edit.get(prop);\n            }\n            return this[prop];\n        },\n        set: (obj, prop, val) => {\n            runInAction(() => this.__edit.set(prop, val));\n            return true;\n        }\n    });\n    constructor(doc) {\n        this.generateId();\n        this.updateFromDoc(doc);\n    }\n\n    generateId() {\n        this._id = shortid();\n    }\n\n    save() {\n        let editCount = 0;\n        this.__edit.forEach((val, key) => {\n            this[key] = val;\n            ++editCount;\n        });\n        this.clearE();\n        return !!editCount;\n    }\n\n    updateFromDoc(doc) {\n        if (doc) {\n            if (!!doc.toJS) {\n                doc = doc.toJS();\n            }\n            const keys = [...new Set(Object.keys(doc).concat(Object.keys(this.toJS())))];\n            keys.forEach((key) => {\n                if (!doc[key] && key === '_id') {\n                    return;\n                } else if (!!this[key] && !!this[key].updateFromDoc) {\n                    this[key].updateFromDoc(doc[key]);\n                } else {\n                    this[key] = doc[key] === undefined ? '' : doc[key];\n                }\n            });\n        }\n    }\n \n    toJS() {\n        const {__edit, E, ...doc } = this;\n        Object.keys(doc).forEach(key => {\n            if (doc[key] && !!doc[key].toJS) {\n                doc[key] = doc[key].toJS();\n                if (Array.isArray(doc[key])) {\n                    doc[key] = doc[key].map((val) => {\n                        if (val && !!val.toJS) {\n                            return val.toJS();\n                        }\n                        return val;\n                    })\n                }\n            }\n        });\n        return doc;\n    }\n\n    clearE() {\n        this.__edit = new Map();\n    }\n \n    setE(propertyName, property) {\n        this.E[propertyName] = property;\n    }\n\n    getE(property) {\n        return this.E[property];\n    }\n}\n\ndecorate(Model, {\n    _id: observable,\n    __edit: observable,\n    clearE: action,\n    setE: action,\n    save: action,\n    generateId: action,\n    updateFromDoc: action\n});","export { default as Model } from './Model';\nexport { default as ModelStore } from './ModelStore';\n\nexport default {};\n"],"sourceRoot":""}